#------------------------------------------------------------------------------
# @file Makefile
# @author jlinford
# @date 2014-06-01 10:26:33.367778
# @brief Makefile for Fortran90 compilation
# 
# Makefile for Fortran90 compilation
# 
# This file was generated by Kppa: http://www.paratools.com/Kppa
#------------------------------------------------------------------------------


FC = gfortran
LD = $(FC)

#OPT_FLAGS = -O3
#WARN_FLAGS = -Wall
#PREC_FLAGS = -fdefault-real-8 -fdefault-double-8

#FFLAGS = $(OPT_FLAGS) $(WARN_FLAGS) $(PREC_FLAGS)
#LDFLAGS = $(OPT_FLAGS)
LIBS =

FFLAGS = -cpp -O -fbounds-check -fimplicit-none  -Wall $(PREC_FLAGS)

OBJ = small_integrate.o \
      small_jacobian.o \
      small_main.o \
      small_parameters.o \
      small_rosenbrock.o \
      small_blas.o \
      small_rates.o \
      small_function.o \
      small_sparse.o \
      small_decomp.o \
      small_solve.o \
      small_initialize.o \
      small_driver_parameters.o \
      small_monitor.o


EXE = small.exe

all: $(EXE)

$(EXE):  $(OBJ)
	$(LD) -o $(EXE) $(LDFLAGS) $(OBJ) $(LIBS)



small_integrate.o: small_integrate.f90 \
        small_parameters.mod \
        small_rosenbrock.o
	$(FC) -c $(FFLAGS) small_integrate.f90 

small_jacobian.o: small_jacobian.f90 \
        small_parameters.mod \
        small_sparse.o
	$(FC) -c $(FFLAGS) small_jacobian.f90 

small_main.o: small_main.f90 \
        small_parameters.mod \
        small_integrate.o \
        small_initialize.o \
        small_driver_parameters.mod \
        small_monitor.o
	$(FC) -c $(FFLAGS) small_main.f90 

small_parameters.mod: small_parameters.f90
	$(FC) -c $(FFLAGS) small_parameters.f90

small_rosenbrock.o: small_rosenbrock.f90 \
        small_parameters.mod \
        small_blas.o \
        small_rates.o \
        small_function.o \
        small_decomp.o \
        small_solve.o \
        small_jacobian.o
	$(FC) -c $(FFLAGS) small_rosenbrock.f90 

small_blas.o: small_blas.f90 \
        small_parameters.mod
	$(FC) -c $(FFLAGS) small_blas.f90 

small_rates.o: small_rates.f90 \
        small_parameters.mod
	$(FC) -c $(FFLAGS) small_rates.f90 

small_function.o: small_function.f90 \
        small_parameters.mod \
        small_sparse.o
	$(FC) -c $(FFLAGS) small_function.f90 

small_sparse.o: small_sparse.f90
	$(FC) -c $(FFLAGS) small_sparse.f90 

small_decomp.o: small_decomp.f90 \
        small_parameters.mod \
        small_sparse.o
	$(FC) -c $(FFLAGS) small_decomp.f90 

small_solve.o: small_solve.f90 \
        small_parameters.mod \
        small_sparse.o
	$(FC) -c $(FFLAGS) small_solve.f90 

small_initialize.o: small_initialize.f90 \
        small_parameters.mod
	$(FC) -c $(FFLAGS) small_initialize.f90 

small_driver_parameters.mod: small_driver_parameters.f90
	$(FC) -c $(FFLAGS) small_driver_parameters.f90

small_monitor.o: small_monitor.f90 \
        small_parameters.mod
	$(FC) -c $(FFLAGS) small_monitor.f90 


clean:
	rm -f small_integrate.o small_jacobian.o small_main.o small_parameters.o small_rosenbrock.o small_blas.o small_rates.o small_function.o small_sparse.o small_decomp.o small_solve.o small_initialize.o small_driver_parameters.o small_monitor.o
	rm -f small_integrate.mod small_jacobian.mod small_parameters.mod small_rosenbrock.mod small_blas.mod small_rates.mod small_function.mod small_sparse.mod small_decomp.mod small_solve.mod small_initialize.mod small_driver_parameters.mod small_monitor.mod
	rm -f small.exe
	
destroy: clean
	rm -f small_integrate.f90 small_jacobian.f90 small_main.f90 small_parameters.f90 small_rosenbrock.f90 small_blas.f90 small_rates.f90 small_function.f90 small_sparse.f90 small_decomp.f90 small_solve.f90 small_initialize.f90 small_driver_parameters.f90 small_monitor.f90 Makefile


#----------------------------- END Makefile END -------------------------------
